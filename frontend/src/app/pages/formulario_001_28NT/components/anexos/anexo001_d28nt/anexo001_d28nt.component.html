<div class="modal-header anexo bg-danger text-white">
    <h4 class="modal-title">{{ this.codigoProcedimientoTupa}} {{ this.descProcedimientoTupa}}</h4>
    <button type="button" class="btn-close btn-close-white" aria-label="Close" (click)="activeModal.close(graboUsuario)">
        
    </button>
</div>
<div class="modal-body anexo">
    <div class="container mt-2 mb-3">
        <form [formGroup]='anexoFG'>
            <div class="center">
                <h6>{{txtTitulo}}</h6>
                <h5>SERVICIO SOLICITADO :  {{this.descTipoSolicitudTupa}}</h5>
            </div>
            <div class="center" *ngIf="this.plantilla!=''">
                <div class="py-2">
                    <div class="col-md-12 alert alert-info" role="alert">
                        <h5 class="alert-heading"><i class="fas fa-exclamation-circle"></i> Importante</h5>
                        <ul>
                            <li>Deberá descargar la plantilla de Excel, registrar sus estaciones y adjuntarla haciendo clic en el botón "Adjuntar Excel".</li>
                            <li>La cantidad y nombres de las columnas de la plantilla NO DEBEN SER MODIFICADOS.</li>
                            <li>La información completada en el presente anexo corresponde al primer registro del archivo excel adjunto.</li>
                            <li>Confirme la ubicación de la estación fija del primer registro.</li>
                        </ul>
                    </div>
                </div>

                <div class="row gx-2 mt-2" style="align-items: center;">
                    <div class="col-lg-auto">
                        <strong>Plantilla:</strong>
                    </div>
                    <div class="col-lg-auto">
                        <button class="btn btn-danger btn-sm align-self-center"
                            (click)="downloadPlantilla(this.plantilla)">
                            <i class="fas fa-download"></i>
                            Descargar Plantilla
                        </button>
                    </div>
                    <div class="col-lg-auto">
                        <button class="btn btn-danger btn-sm me-2 align-self-center"
                            (click)="inputFileExcel.click($event)">
                            <i class="fas fa-upload"></i>
                            Adjuntar Excel
                        </button>
                        <input type="file" class="d-none" #inputFileExcel accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
                            (change)="onChangeInputExcel($event)" />

                    </div>
                    <div *ngIf="a_PathNameExcelFC.value">
                        <button class="btn btn-success btn-sm align-self-center"
                            (click)="downloadFileExcel()">
                            <i class="fas fa-file-excel"></i>
                            Adjunto
                        </button>
                    </div>
                    <div class="col-lg-auto" *ngIf="this.fileExcelSeleccionado || a_FileExcelFC.value || a_PathNameExcelFC.value">
                        <i class="far fa-trash-alt fa-2x text-danger cursor-pointer" title="Eliminar"
                            (click)="eliminarAdjuntoExcel(a_FileExcelFC, a_PathNameExcelFC)"></i>
                    </div>
                </div>
            </div>
            <br />
            <div ngbAccordion #acc="ngbAccordion"
                activeIds="seccion-2, seccion-3, seccion-3a, seccion-3b, seccion-4, seccion-5">
                <div ngbAccordionItem="seccion-2"><!--[disabled]="a_Seccion2FG.disabled" [collapsed]="a_Seccion2FG.disabled"-->
                    <h2 ngbAccordionHeader>
                        
                            <button ngbAccordionButton>II. TIPO DE
                                ENLACE SOLICITADO</button>
                        </h2>
                    <div ngbAccordionCollapse>
<div ngbAccordionBody>
<ng-template>
                        <div class="row text-center" formGroupName="a_Seccion2FG"><!--*ngIf="a_Seccion2FG.enabled"-->
                            <div class="col-lg-6">
                                <div class="row gx-2 alert alert-custom"  >
                                    <div class="col-lg">
                                        <!--<app-basic-checkbox [parentForm]="a_s2_SateliteFG"
                                            checkboxFormControlName="a_s2_sa_FijoFC" label="FIJO POR SATÉLITE">
                                        </app-basic-checkbox>-->
                                        <div class="col-lg d-flex -form form-check custom-control-inline">
                                            <input type="radio" class="form-check-input" value="fijo" formControlName="a_s2_SateliteFG">
                                            <label class="form-check-label">FIJO POR SATÉLITE</label>
                                        </div>
                                    </div>
                                    <div class="col-lg">
                                        <!--<app-basic-checkbox [parentForm]="a_s2_SateliteFG"
                                            checkboxFormControlName="a_s2_sa_MovilFC" label="MÓVIL POR SATÉLITE">
                                        </app-basic-checkbox>-->
                                        <div class="col-lg d-flex -form form-check custom-control-inline">
                                            <input type="radio" class="form-check-input" value="movil" formControlName="a_s2_SateliteFG">
                                            <label class="form-check-label">MÓVIL POR SATÉLITE</label>
                                        </div>
                                    </div>
                                    <!--<div class="col-lg-12 mt-2"
                                        *ngIf="a_s2_SateliteFG.invalid && (a_s2_SateliteFG.dirty || a_s2_SateliteFG.touched)">
                                        <div class="text-danger">
                                            <div *ngIf="a_s2_SateliteFG.errors?.requireCheckboxesToBeChecked">
                                                La cantidad de opciones marcadas permitidas es de máximo
                                                {{ a_s2_SateliteFG.errors.requireCheckboxesToBeChecked.maxRequired }}
                                            </div>
                                        </div>
                                    </div>-->
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="row gx-2 alert alert-custom">
                                    <div class="col-lg-2"></div> 
                                    <div class="col-lg-4 d-flex -form form-check custom-control-inline">
                                        <!--<app-basic-checkbox [parentForm]="a_s2_EstacionFG"
                                            checkboxFormControlName="a_s2_es_FijoFC" label="ESTACIÓN FIJA">
                                        </app-basic-checkbox>-->
                                        <input type="radio" class="form-check-input" value="fijo" formControlName="a_s2_EstacionFG">
                                        <label class="form-check-label">ESTACIÓN FIJA</label>
                                    </div>
                                    <div class="col-lg-4 d-flex -form form-check custom-control-inline">
                                        <!--<app-basic-checkbox [parentForm]="a_s2_EstacionFG"
                                            checkboxFormControlName="a_s2_es_MovilFC" label="ESTACIÓN MÓVIL">
                                        </app-basic-checkbox>-->
                                        <input type="radio" class="form-check-input" value="movil" formControlName="a_s2_EstacionFG">
                                        <label class="form-check-label">ESTACIÓN MÓVIL</label>
                                    </div>
                                    <!--<div class="col-lg-12 mt-2"
                                        *ngIf="a_s2_EstacionFG.invalid && (a_s2_EstacionFG.dirty || a_s2_EstacionFG.touched)">
                                        <div class="text-danger">
                                            <div *ngIf="a_s2_EstacionFG.errors?.requireCheckboxesToBeChecked">
                                                La cantidad de opciones marcadas permitidas es de máximo
                                                {{ a_s2_EstacionFG.errors.requireCheckboxesToBeChecked.maxRequired }}
                                            </div>
                                        </div>
                                    </div>-->
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="row gx-2 alert alert-custom">
                                    <div class="col-lg-2"></div> 
                                    <div class="col-lg-8 d-flex  form-check custom-control-inline">
                                        <input type="checkbox" class="form-check-input" formControlName="a_s2_AuxiliarRadFC">
                                        <label class="form-check-label">AUXILIAR A LA RADIODIFUSIÓN</label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6" >
                                <div class="row gx-2 alert alert-custom" >
                                    <div class="col-lg-2"></div> 
                                    <div class="col-lg-4 d-flex -form form-check custom-control-inline">
                                        <!--<app-basic-checkbox [parentForm]="a_s2_DireccionalFG"
                                            checkboxFormControlName="a_s2_di_UnidirFC" label="UNIDIRECCIONAL">
                                        </app-basic-checkbox>-->
                                        <input type="radio" class="form-check-input" value="unidireccional" formControlName="a_s2_DireccionalFG">
                                        <label class="form-check-label">UNIDIRECCIONAL</label>
                                    </div>
                                    <div class="col-lg-4 d-flex -form form-check custom-control-inline">
                                        <!--<app-basic-checkbox [parentForm]="a_s2_DireccionalFG"
                                            checkboxFormControlName="a_s2_di_BidirFC" label="BIDIRECCIONAL">
                                        </app-basic-checkbox>-->
                                        <input type="radio" class="form-check-input" value="bidireccional" formControlName="a_s2_DireccionalFG">
                                        <label class="form-check-label">BIDIRECCIONAL</label>
                                    </div>
                                    <!--<div class="col-lg-12 mt-2"
                                        *ngIf="a_s2_DireccionalFG.invalid && (a_s2_DireccionalFG.dirty || a_s2_DireccionalFG.touched)">
                                        <div class="text-danger">
                                            <div *ngIf="a_s2_DireccionalFG.errors?.requireCheckboxesToBeChecked">
                                                La cantidad de opciones marcadas permitidas es de máximo
                                                {{ a_s2_DireccionalFG.errors.requireCheckboxesToBeChecked.maxRequired }}
                                            </div>
                                        </div>
                                    </div>-->
                                </div>
                            </div>
                            <!--<div class="col-lg-12 text-center"
                                *ngIf="a_Seccion2FG.invalid && (a_Seccion2FG.dirty || a_Seccion2FG.touched)">
                                <div class="text-danger">
                                    <div *ngIf="a_Seccion2FG.errors?.requireCheckboxesToBeChecked">
                                        La cantidad de opciones marcadas permitidas es de mínimo
                                        {{ a_Seccion2FG.errors.requireCheckboxesToBeChecked.minRequired }}
                                    </div>
                                </div>
                            </div>-->
                        </div>
                    </ng-template>
</div>
</div>
                </div>
                <div  [disabled]="this.plantilla!='' &&  this.valExcel==0 && !this.a_Activo" ngbAccordionItem="seccion-3"><!--[disabled]="a_Seccion3FG.disabled" [collapsed]="a_Seccion3FG.disabled"-->
                    <h2 ngbAccordionHeader >
                        
                            <button ngbAccordionButton>III. UBICACIÓN DE
                                LA ESTACIÓN TERRENA</button>
                        </h2>
                    <div ngbAccordionCollapse>
<div ngbAccordionBody>
<ng-template>
                        <div class="row" formGroupName="a_Seccion3FG"><!--*ngIf="a_Seccion3FG.enabled"-->
                            <div class="col-lg-12">
                                <app-basic-input class="mt-3" [parentForm]="a_Seccion3FG"
                                    inputFormControlName="a_s3_UbicacionFC" label="Ubicación"
                                    placeHolder="Ingrese la ubicación de la estación" [maxLength]="100">
                                </app-basic-input>
                                <app-ubigeo #ubigeoCmpEstFija1 [parentForm]="a_Seccion3FG"
                                    depaFormControlName="a_s3_DepartamentoFC" provFormControlName="a_s3_ProvinciaFC"
                                    distFormControlName="a_s3_DistritoFC" depaFormLabel="Departamento"
                                    provFormLabel="Provincia" distFormLabel="Distrito" [horizontal]="true">
                                </app-ubigeo>
                                <div class="row gx-2 mt-2" style="align-items: center;">
                                    <div class="col-lg-auto">
                                        <strong>Coordenadas Geográficas</strong>
                                    </div>
                                    <div class="col-lg-auto">
                                        <strong>L.O.:</strong>
                                    </div>
                                    <div class="col-lg">
                                        <app-basic-input [parentForm]="a_Seccion3FG" inputFormControlName="a_s3_LOGraFC"
                                            placeHolder="Grados" [maxLength]="3" [onlyNumbers]="true"
                                            [horizontal]="true"  [customAppend]="true">
                                            <ng-container slot="customAppend">
                                                <span class="input-group-text">°</span>
                                            </ng-container>
                                        </app-basic-input>
                                    </div>
                                    <div class="col-lg">
                                        <app-basic-input [parentForm]="a_Seccion3FG" inputFormControlName="a_s3_LOMinFC"
                                            placeHolder="Minutos" [maxLength]="3" [onlyNumbers]="true"
                                            [horizontal]="true"  [customAppend]="true">
                                            <ng-container slot="customAppend">
                                                <span class="input-group-text">'</span>
                                            </ng-container>
                                        </app-basic-input>
                                    </div>
                                    <div class="col-lg">
                                        <app-basic-input [parentForm]="a_Seccion3FG" inputFormControlName="a_s3_LOSegFC"
                                            placeHolder="Segundos" [maxLength]="3" [onlyNumbers]="true"
                                            [horizontal]="true"  [customAppend]="true">
                                            <ng-container slot="customAppend">
                                                <span class="input-group-text">"</span>
                                            </ng-container>
                                        </app-basic-input>
                                    </div>
                                    <div class="col-lg-auto">
                                        <strong>L.S.:</strong>
                                    </div>
                                    <div class="col-lg">
                                        <app-basic-input [parentForm]="a_Seccion3FG" inputFormControlName="a_s3_LSGraFC"
                                            placeHolder="Grados" [maxLength]="3" [onlyNumbers]="true"
                                            [horizontal]="true"  [customAppend]="true">
                                            <ng-container slot="customAppend">
                                                <span class="input-group-text">°</span>
                                            </ng-container>
                                        </app-basic-input>
                                    </div>
                                    <div class="col-lg">
                                        <app-basic-input [parentForm]="a_Seccion3FG" inputFormControlName="a_s3_LSMinFC"
                                            placeHolder="Minutos" [maxLength]="3" [onlyNumbers]="true"
                                            [horizontal]="true"  [customAppend]="true">
                                            <ng-container slot="customAppend">
                                                <span class="input-group-text">'</span>
                                            </ng-container>
                                        </app-basic-input>
                                    </div>
                                    <div class="col-lg">
                                        <app-basic-input [parentForm]="a_Seccion3FG" inputFormControlName="a_s3_LSSegFC"
                                            placeHolder="Segundos" [maxLength]="3" [onlyNumbers]="true"
                                            [horizontal]="true"  [customAppend]="true">
                                            <ng-container slot="customAppend">
                                                <span class="input-group-text">"</span>
                                            </ng-container>
                                        </app-basic-input>
                                    </div>
                                </div>
                                <div class="row gx-2 text-center mt-3" formGroupName="a_s3_TipoEstacionFG"
                                    [class.control-invalid]="a_s3_TipoEstacionFG.invalid && (a_s3_TipoEstacionFG.dirty || a_s3_TipoEstacionFG.touched)">
                                    <div class="col-lg-2">
                                        <strong>Tipo de Estación</strong>
                                    </div>
                                    
                                    <div class="col-lg-3 d-flex  form-check custom-control-inline">
                                        <!--<app-basic-checkbox [parentForm]="a_s3_TipoEstacionFG"
                                            checkboxFormControlName="a_s3_te_TransRecepFC"
                                            label="Transmisora / Receptora">
                                        </app-basic-checkbox>-->
                                        
                                            <input type="checkbox" class="form-check-input" formControlName="a_s3_te_TransRecepFC">
                                            <label class="form-check-label">Transmisora / Receptora</label>
                                        
                                    </div>
                                    <div class="col-lg-3 d-flex  form-check custom-control-inline">
                                        <!--<app-basic-checkbox [parentForm]="a_s3_TipoEstacionFG"
                                            checkboxFormControlName="a_s3_te_SoloTransFC" label="Sólo Transmisora">
                                        </app-basic-checkbox>-->
                                        
                                            <input type="checkbox" class="form-check-input" formControlName="a_s3_te_SoloTransFC">
                                            <label class="form-check-label">Sólo Transmisora</label>
                                        
                                    </div>
                                </div>
                                <!--<div *ngIf="a_s3_TipoEstacionFG.invalid && (a_s3_TipoEstacionFG.dirty || a_s3_TipoEstacionFG.touched)"
                                    class="text-danger">
                                    <div *ngIf="a_s3_TipoEstacionFG.errors?.requireCheckboxesToBeChecked">
                                        La cantidad de opciones marcadas permitidas es de 1
                                    </div>
                                </div>-->
                            </div>
                        </div>
                    </ng-template>
</div>
</div>
                </div>
                <div  [disabled]="this.plantilla!='' &&  this.valExcel==0 && !this.a_Activo" ngbAccordionItem="seccion-3a">
                    <h2 ngbAccordionHeader >
                        
                            <button ngbAccordionButton>III.a DATOS DE LA
                                ASIGNACIÓN</button>
                        </h2>
                    <div ngbAccordionCollapse>
<div ngbAccordionBody>
<ng-template>
                        <div class="row" *ngIf="a_Seccion3aFG.enabled" formGroupName="a_Seccion3aFG">
                            <div class="col-lg-12">
                                <div class="row">
                                    <div class="col-lg-6">
                                        <app-basic-input [parentForm]="a_Seccion3aFG"
                                            inputFormControlName="a_s3a_ProveeSatFC" label="Proveedor Satelital"
                                            placeHolder="Ingrese el proveedor satelital" [maxLength]="100"
                                            [horizontal]="true">
                                        </app-basic-input>
                                    </div>
                                    <div class="col-lg-6">
                                        <app-basic-input [parentForm]="a_Seccion3aFG"
                                            inputFormControlName="a_s3a_NombSatFC" label="Nombre del Satélite"
                                            placeHolder="Ingrese el nombre del satélite" [maxLength]="80"
                                            [horizontal]="true">
                                        </app-basic-input>
                                    </div>
                                </div>
                                <div *ngIf="a_s3a_SateliteFA.enabled">
                                    <hr>
                                    <div formArrayName="a_s3a_SateliteFA">
                                        <div class="mt-4 mb-3"><strong>Lista de Satélites</strong></div>
                                        <div class="row">
                                            <div class="col-lg-12" [formGroup]="sateliteFG">
                                                <div class="row gx-2">
                                                    <div class="col-lg">
                                                        <app-basic-input [parentForm]="sateliteFG"
                                                            inputFormControlName="sa_TranspoFC" label="Transponder"
                                                            placeHolder="Ingrese el transponder del satélite"
                                                            [maxLength]="30">
                                                        </app-basic-input>
                                                    </div>
                                                    <div class="col-lg">
                                                        <app-basic-input [parentForm]="sateliteFG"
                                                            inputFormControlName="sa_FrecSubFC"
                                                            label="Frecuencia Subida"
                                                            placeHolder="Ingrese la frecuencia de subida del satélite"
                                                            [maxLength]="30">
                                                        </app-basic-input>
                                                    </div>
                                                    <div class="col-lg">
                                                        <app-basic-input [parentForm]="sateliteFG"
                                                            inputFormControlName="sa_FrecBajFC"
                                                            label="Frecuencia Bajada"
                                                            placeHolder="Ingrese la frecuencia de bajada del satélite"
                                                            [maxLength]="30">
                                                        </app-basic-input>
                                                    </div>
                                                    <div class="col-lg">
                                                        <app-basic-input [parentForm]="sateliteFG"
                                                            inputFormControlName="sa_PolarizFC" label="Polarización"
                                                            placeHolder="Ingrese la polarización del satélite"
                                                            [maxLength]="30">
                                                        </app-basic-input>
                                                    </div>
                                                    <div class="col-lg">
                                                        <app-basic-input [parentForm]="sateliteFG"
                                                            inputFormControlName="sa_AnchoBaFC" label="Ancho de Banda"
                                                            placeHolder="Ingrese el ancho de banda del satélite"
                                                            [maxLength]="30">
                                                        </app-basic-input>
                                                    </div>
                                                </div>
                                                <div class="row gx-2">
                                                    <div class="col-lg">
                                                        <app-basic-input [parentForm]="sateliteFG"
                                                            inputFormControlName="sa_TasaSimFC" label="Tasa de Simbolos"
                                                            placeHolder="Ingrese la tasa de simbolos del satélite"
                                                            [maxLength]="30">
                                                        </app-basic-input>
                                                    </div>
                                                    <div class="col-lg">
                                                        <app-basic-input [parentForm]="sateliteFG"
                                                            inputFormControlName="sa_ModulacFC" label="Modulación"
                                                            placeHolder="Ingrese la modulación del satélite"
                                                            [maxLength]="30">
                                                        </app-basic-input>
                                                    </div>
                                                    <div class="col-lg">
                                                        <app-basic-input [parentForm]="sateliteFG"
                                                            inputFormControlName="sa_FecFC" label="FEC"
                                                            placeHolder="Ingrese el FEC (Forward Error Correction) del satélite"
                                                            [maxLength]="30">
                                                        </app-basic-input>
                                                    </div>
                                                    <div class="col-lg-auto col-xl-auto mb-3" style="align-self: end;">
                                                        <button class="btn btn-danger" [disabled]="sateliteFG.invalid || valExcel==1"
                                                            (click)="saveSatelite()">
                                                            <div *ngIf="indexEditSatelite === -1; else elseBlock">
                                                                <i class="fas fa-plus-circle"></i>
                                                                Agregar
                                                            </div>
                                                            <ng-template #elseBlock>
                                                                <i class="fas fa-pencil-alt"></i>
                                                                Modificar
                                                            </ng-template>
                                                        </button>

                                                        <button *ngIf="indexEditSatelite !== -1"
                                                            class="btn btn-warning ms-2" (click)="nosaveSatelite()">
                                                            <i class="fas fa-ban"></i>
                                                            Cancelar
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-12">
                                                <div class="table-responsive">
                                                    <table
                                                        class="table table-sm table-bordered table-hover table-striped">
                                                        <thead class="tabla-header-mtc">
                                                            <tr class="table-light">
                                                                <th>N°</th>
                                                                <th class="text-center">Transponder</th>
                                                                <th class="text-center">Frecuencia Subida</th>
                                                                <th class="text-center">Frecuencia Bajada</th>
                                                                <th class="text-center">Polarización</th>
                                                                <th class="text-center">Ancho de Banda</th>
                                                                <th class="text-center">Tasa de Simbolos</th>
                                                                <th class="text-center">Modulación</th>
                                                                <th class="text-center">FEC</th>
                                                                <th class="text-center">Acciones</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr class="text-center"
                                                                *ngFor="let _ of a_s3a_SateliteFA.controls; let i=index">
                                                                <td>{{ i + 1}}</td>
                                                                <td>{{ a_s3a_sa_TranspoFC(i).value }}
                                                                </td>
                                                                <td>{{ a_s3a_sa_FrecSubFC(i).value }}
                                                                </td>
                                                                <td>{{ a_s3a_sa_FrecBajFC(i).value }}
                                                                </td>
                                                                <td>{{ a_s3a_sa_PolarizFC(i).value }}
                                                                </td>
                                                                <td>{{ a_s3a_sa_AnchoBaFC(i).value }}
                                                                </td>
                                                                <td>{{ a_s3a_sa_TasaSimFC(i).value }}
                                                                </td>
                                                                <td>{{ a_s3a_sa_ModulacFC(i).value }} 
                                                                </td>
                                                                <td>{{ a_s3a_sa_FecFC(i).value }}</td>
                                                                <td>
                                                                    <i *ngIf="valExcel==0" class="far fa-edit pe-2 text-primary cursor-pointer"  
                                                                        title="Editar" (click)="editSatelite(i)"></i>
                                                                    <i *ngIf="valExcel==0" class="far fa-trash-alt ps-2 text-danger cursor-pointer"  
                                                                        title="Eliminar"
                                                                        (click)="removeSatelite(i)"></i>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </ng-template>
                </div>
                </div>
                </div>
                <div  [disabled]="this.plantilla!='' &&  this.valExcel==0 && !this.a_Activo" ngbAccordionItem="seccion-3b">
                    <h2 ngbAccordionHeader >
                        
                            <button ngbAccordionButton>III.b
                                EQUIPAMIENTO ESTACIÓN TERRENA</button>
                        </h2>
                    <div ngbAccordionCollapse>
<div ngbAccordionBody>
<ng-template>
                        <div class="row" formGroupName="a_Seccion3bFG"><!--*ngIf="a_Seccion3bFG.enabled"-->
                            <div class="col-lg-12">
                                <div class="alert alert-info" role="alert">
                                    (*) Para el caso de renovación, se deberá comunicar los números de serie de los
                                    equipos.
                                </div>
                                <div><!--*ngIf="a_s3b_EquipoFA.enabled"-->
                                    <div formArrayName="a_s3b_EquipoFA">
                                        <div class="mt-4 mb-3"><strong>Lista de Equipos</strong></div>
                                        <div class="row">
                                            <div class="col-lg-12" [formGroup]="equipoFG">
                                                <div class="row gx-2">
                                                    <div class="col-lg">
                                                        <app-basic-input [parentForm]="equipoFG"
                                                            inputFormControlName="eq_TipoFC" label="Tipo de Equipo"
                                                            placeHolder="Ingrese el tipo de equipo" [maxLength]="30">
                                                        </app-basic-input>
                                                    </div>
                                                    <div class="col-lg">
                                                        <app-basic-input [parentForm]="equipoFG"
                                                            inputFormControlName="eq_MarcaFC" label="Marca"
                                                            placeHolder="Ingrese la marca del equipo" [maxLength]="30">
                                                        </app-basic-input>
                                                    </div>
                                                    <div class="col-lg">
                                                        <app-basic-input [parentForm]="equipoFG"
                                                            inputFormControlName="eq_ModeloFC" label="Modelo"
                                                            placeHolder="Ingrese el modelo del equipo" [maxLength]="30">
                                                        </app-basic-input>
                                                    </div>
                                                    <div class="col-lg">
                                                        <app-basic-input [parentForm]="equipoFG"
                                                            inputFormControlName="eq_NroSerieFC" label="Número de serie"
                                                            placeHolder="Ingrese el númerode serie del equipo"
                                                            [maxLength]="30">
                                                        </app-basic-input>
                                                    </div>
                                                </div>
                                                <div class="row gx-2">
                                                    <div class="col-lg">
                                                        <app-basic-input [parentForm]="equipoFG"
                                                            inputFormControlName="eq_PotenciaFC" label="Potencia (HPA)"
                                                            placeHolder="Ingrese la potencia del equipo"
                                                            [maxLength]="10" [onlyNumbers]="true" [decimals]="true"
                                                             [customAppend]="true">
                                                            <ng-container slot="customAppend">
                                                                <span class="input-group-text">W</span>
                                                            </ng-container>
                                                        </app-basic-input>
                                                    </div>
                                                    <div class="col-lg">
                                                        <app-basic-input [parentForm]="equipoFG"
                                                            inputFormControlName="eq_CodHomoFC"
                                                            label="Cod. Homologación"
                                                            placeHolder="Ingrese el código de homologación del equipo"
                                                            [maxLength]="30">
                                                        </app-basic-input>
                                                    </div>
                                                    <div class="col-lg-auto col-xl-auto mb-3" style="align-self: end;">
                                                        <button class="btn btn-danger" [disabled]="equipoFG.invalid || valExcel==1"
                                                            (click)="saveEquipo()">
                                                            <div *ngIf="indexEditEquipo=== -1; else elseBlock">
                                                                <i class="fas fa-plus-circle"></i>
                                                                Agregar
                                                            </div>
                                                            <ng-template #elseBlock>
                                                                <i class="fas fa-pencil-alt"></i>
                                                                Modificar
                                                            </ng-template>
                                                        </button>

                                                        <button *ngIf="indexEditEquipo !== -1"
                                                            class="btn btn-warning ms-2" (click)="nosaveEquipo()">
                                                            <i class="fas fa-ban"></i>
                                                            Cancelar
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-12">
                                                <div class="table-responsive">
                                                    <table
                                                        class="table table-sm table-bordered table-hover table-striped">
                                                        <thead class="tabla-header-mtc">
                                                            <tr class="table-light">
                                                                <th>N°</th>
                                                                <th class="text-center">Tipo de Equipo</th>
                                                                <th class="text-center">Marca</th>
                                                                <th class="text-center">Modelo</th>
                                                                <th class="text-center">Número de serie</th>
                                                                <th class="text-center">Potencia (HPA)</th>
                                                                <th class="text-center">Cod. Homologación</th>
                                                                <th class="text-center">Acciones</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr class="text-center"
                                                                *ngFor="let _ of a_s3b_EquipoFA.controls; let i=index">
                                                                <td>{{ i + 1}}</td>
                                                                <td>{{ a_s3b_eq_TipoFC(i).value }}
                                                                </td>
                                                                <td>{{ a_s3b_eq_MarcaFC(i).value }}
                                                                </td>
                                                                <td>{{ a_s3b_eq_ModeloFC(i).value }}
                                                                </td>
                                                                <td>{{ a_s3b_eq_NroSerieFC(i).value }}
                                                                </td>
                                                                <td>{{ a_s3b_eq_PotenciaFC(i).value }}
                                                                </td>
                                                                <td>{{ a_s3b_eq_CodHomoFC(i).value }}
                                                                </td>
                                                                <td>
                                                                    <i *ngIf="valExcel==0" class="far fa-edit pe-2 text-primary cursor-pointer"
                                                                        title="Editar" (click)="editEquipo(i)"></i>
                                                                    <i *ngIf="valExcel==0" class="far fa-trash-alt ps-2 text-danger cursor-pointer"
                                                                        title="Eliminar" (click)="removeEquipo(i)"></i>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div><!--*ngIf="a_s3b_AntenaFA.enabled"-->
                                    <hr>
                                    <div formArrayName="a_s3b_AntenaFA">
                                        <div class="mt-4 mb-3"><strong>Lista de Antenas</strong></div>
                                        <div class="row">
                                            <div class="col-lg-12" [formGroup]="antenaFG">
                                                <div class="row gx-2">
                                                    <div class="col-lg">
                                                        <app-basic-input [parentForm]="antenaFG"
                                                            inputFormControlName="an_TipoFC" label="Tipo de Antena"
                                                            placeHolder="Ingrese el tipo de la antena" [maxLength]="30">
                                                        </app-basic-input>
                                                    </div>
                                                    <div class="col-lg">
                                                        <app-basic-input [parentForm]="antenaFG"
                                                            inputFormControlName="an_MarcaFC" label="Marca"
                                                            placeHolder="Ingrese la marca de la antena"
                                                            [maxLength]="30">
                                                        </app-basic-input>
                                                    </div>
                                                    <div class="col-lg">
                                                        <app-basic-input [parentForm]="antenaFG"
                                                            inputFormControlName="an_ModeloFC" label="Modelo"
                                                            placeHolder="Ingrese el modelo de la antena"
                                                            [maxLength]="30">
                                                        </app-basic-input>
                                                    </div>
                                                    <div class="col-lg">
                                                        <app-basic-input [parentForm]="antenaFG"
                                                            inputFormControlName="an_DiametroFC" label="Diámetro (m)"
                                                            placeHolder="Ingrese el númerode serie de la antena"
                                                            [maxLength]="10" [onlyNumbers]="true" [decimals]="true"
                                                             [customAppend]="true">
                                                            <ng-container slot="customAppend">
                                                                <span class="input-group-text">m</span>
                                                            </ng-container>
                                                        </app-basic-input>
                                                    </div>
                                                </div>
                                                <div class="row gx-2">
                                                    <div class="col-lg">
                                                        <app-basic-input [parentForm]="antenaFG"
                                                            inputFormControlName="an_GananciaFC" label="Ganancia"
                                                            placeHolder="Ingrese la potencia de la antena"
                                                            [maxLength]="30">
                                                        </app-basic-input>
                                                    </div>
                                                    <div class="col-lg">
                                                        <app-basic-input [parentForm]="antenaFG"
                                                            inputFormControlName="an_CodHomoFC"
                                                            label="Cod. Homologación"
                                                            placeHolder="Ingrese el código de homologación de la antena"
                                                            [maxLength]="30">
                                                        </app-basic-input>
                                                    </div>
                                                    <div class="col-lg-auto col-xl-auto mb-3" style="align-self: end;">
                                                        <button class="btn btn-danger" [disabled]="antenaFG.invalid || valExcel==1"
                                                            (click)="saveAntena()">
                                                            <div *ngIf="indexEditAntena === -1; else elseBlock">
                                                                <i class="fas fa-plus-circle"></i>
                                                                Agregar
                                                            </div>
                                                            <ng-template #elseBlock>
                                                                <i class="fas fa-pencil-alt"></i>
                                                                Modificar
                                                            </ng-template>
                                                        </button>

                                                        <button *ngIf="indexEditAntena !== -1"
                                                            class="btn btn-warning ms-2" (click)="nosaveAntena()">
                                                            <i class="fas fa-ban"></i>
                                                            Cancelar
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-12">
                                                <div class="table-responsive">
                                                    <table
                                                        class="table table-sm table-bordered table-hover table-striped">
                                                        <thead class="tabla-header-mtc">
                                                            <tr class="table-light">
                                                                <th>N°</th>
                                                                <th class="text-center">Tipo de Antena</th>
                                                                <th class="text-center">Marca</th>
                                                                <th class="text-center">Modelo</th>
                                                                <th class="text-center">Diámetro (m)</th>
                                                                <th class="text-center">Ganancia</th>
                                                                <th class="text-center">Cod. Homologación</th>
                                                                <th class="text-center">Acciones</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr class="text-center"
                                                                *ngFor="let _ of a_s3b_AntenaFA.controls; let i=index">
                                                                <td>{{ i + 1}}</td>
                                                                <td>{{ a_s3b_an_TipoFC(i).value }}
                                                                </td>
                                                                <td>{{ a_s3b_an_MarcaFC(i).value }}
                                                                </td>
                                                                <td>{{ a_s3b_an_ModeloFC(i).value }}
                                                                </td>
                                                                <td>{{ a_s3b_an_DiametroFC(i).value }}
                                                                </td>
                                                                <td>{{ a_s3b_an_PotenciaFC(i).value }}
                                                                </td>
                                                                <td>{{ a_s3b_an_CodHomoFC(i).value }}
                                                                </td>
                                                                <td>
                                                                    <i *ngIf="valExcel==0" class="far fa-edit pe-2 text-primary cursor-pointer"
                                                                        title="Editar" (click)="editAntena(i)"></i>
                                                                    <i *ngIf="valExcel==0" class="far fa-trash-alt ps-2 text-danger cursor-pointer"
                                                                        title="Eliminar" (click)="removeAntena(i)"></i>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <hr>
                                <div class="row gx-2">
                                    <div class="col-lg">
                                        <app-basic-input [parentForm]="a_Seccion3bFG"
                                            inputFormControlName="a_s3b_AlturaAntFC"
                                            label="Altura de Soporte de Antena (m)"
                                            [placeHolder]="this.valExcel==0 ? 'Ingrese la altura de soporte de la antena':''" [maxLength]="10"
                                            [onlyNumbers]="true" [decimals]="true" 
                                            [customAppend]="true">
                                            <ng-container slot="customAppend">
                                                <span class="input-group-text">m</span>
                                            </ng-container>
                                        </app-basic-input>
                                    </div>
                                    <div class="col-lg">
                                        <app-basic-input [parentForm]="a_Seccion3bFG"
                                            inputFormControlName="a_s3b_AlturaEdiFC" label="Altura de Edificio (m)"
                                            [placeHolder]="this.valExcel==0 ? 'Ingrese la altura del edificio':''" [maxLength]="10"
                                            [onlyNumbers]="true" [decimals]="true" 
                                            [customAppend]="true">
                                            <ng-container slot="customAppend">
                                                <span class="input-group-text">m</span>
                                            </ng-container>
                                        </app-basic-input>
                                    </div>
                                    <div class="col-lg">
                                        <app-basic-input [parentForm]="a_Seccion3bFG"
                                            inputFormControlName="a_s3b_AcimutRadFC" label="Acimut de máxima radiación"
                                            [placeHolder]="this.valExcel==0 ? 'Ingrese el acimut de máxima radiación':''" [maxLength]="10" 
                                            [customAppend]="true" [onlyNumbers]="true"
                                            [decimals]="true">
                                            <ng-container slot="customAppend">
                                                <span class="input-group-text">°</span>
                                            </ng-container>
                                        </app-basic-input>
                                    </div>
                                    <div class="col-lg">
                                        <app-basic-input [parentForm]="a_Seccion3bFG"
                                            inputFormControlName="a_s3b_ElevacionFC" label="Elevación"
                                            [placeHolder]="this.valExcel==0 ? 'Ingrese la elevación de la antena':''" [maxLength]="10" 
                                            [customAppend]="true" [onlyNumbers]="true"
                                            [decimals]="true">
                                            <ng-container slot="customAppend">
                                                <span class="input-group-text">°</span>
                                            </ng-container>
                                        </app-basic-input>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </ng-template>
                </div>
                </div>
                </div>
                <div ngbAccordionItem="seccion-4" [collapsed]="false">
                    <h2 ngbAccordionHeader >
                        
                            <button ngbAccordionButton>IV. HABILITACIÓN
                                PROFESIONAL DE INGENIERO ELECTRÓNICO O TELECOMUNICACIONES</button>
                        </h2>
                    <div ngbAccordionCollapse>
<div ngbAccordionBody>
<ng-template>
                        <div class="row" *ngIf="a_Seccion4FG.enabled" formGroupName="a_Seccion4FG">
                            <div class="col-lg-12">
                                <div class="row gx-2">
                                    <div class="col-lg-6">
                                        <app-basic-input [parentForm]="a_Seccion4FG"
                                            inputFormControlName="a_s4_ColegioProfFC" label="Colegio Profesional"
                                            placeHolder="Ingrese el colegio profesional del ingeniero" [maxLength]="100"
                                            [horizontal]="true">
                                        </app-basic-input>
                                    </div>
                                    <div class="col-lg-6">
                                        <app-basic-input [parentForm]="a_Seccion4FG"
                                            inputFormControlName="a_s4_NroColegiaFC" label="Número de Colegiatura"
                                            placeHolder="Ingrese el número de colegiatura del ingeniero"
                                            [maxLength]="20" [horizontal]="true">
                                        </app-basic-input>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </ng-template>
</div>
</div>
                </div>
                <div ngbAccordionItem="seccion-5" [collapsed]="false">
                    <h2 ngbAccordionHeader >
                        
                            <button ngbAccordionButton>V. DECLARACIONES
                                JURADAS</button>
                        </h2>
                    <div ngbAccordionCollapse>
<div ngbAccordionBody>
<ng-template>
                        <div formGroupName="a_Seccion5FG">
                            <div class="mt-2 mb-4 ng-star-inserted">
                                <div class="alert alert-custom">
                                    <div _ngcontent-ehx-c118="" class="row gx-2" style="align-items: center;">
                                        <div _ngcontent-ehx-c118="" class="col">
                                            <div _ngcontent-ehx-c118=""> 1 Toda la información proporcionada es veraz,
                                                así como los documentos presentados son auténticos, en caso contrario,
                                                me someto al procedimiento y a las sanciones previstas en la Ley N°
                                                27444, Ley del Procedimiento Administrativo General y/o normas
                                                complementarias.
                                            </div>
                                        </div>
                                        <div _ngcontent-ehx-c118="" class="col-auto">
                                            <div _ngcontent-ehx-c118="" class="d-flex flex-row p-2 ms-4">
                                                <ui-switch formControlName="a_s5_declaracion1FC" 
                                                    class="ng-valid ng-touched ng-dirty"></ui-switch> NO / SI
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="alert alert-active">
                                <span style="text-align: justify; display: block;">
                                    NOTA: En el presente documento electrónico se ha vinculado e identificado al
                                    firmante, así como se ha garantizado la autenticación e integridad del mismo a
                                    través de la firma electrónica utilizada atraves del usuario y clave de ingreso al
                                    Sistema Tupa Digital del Ministerio de Transportes y Comunicaciones , la cual tiene
                                    la misma validez y eficacia jurídica que la firma manuscrita, de conformidad con el
                                    artículo primero y segundo de la Ley N° 27269 - Ley de Firmas y Certificados
                                    Digitales y lo establecido en el inciso c) del numeral 47.1 del Art 47 del
                                    Reglamento de la Ley de Gobierno Digital, aprobado mediante Decreto Supremo
                                    029-2021-PCM.
                                </span>
                            </div>
                        </div>
                    </ng-template>
</div>
</div>
                </div>
            </div>
        </form>
    </div>
</div>

<div class="modal-footer anexo">
    <div class="row">
        <div class="col-lg-12 d-flex">
            <div class="flex-1">
                <div class="btn-group" role="group" aria-label="Basic example">
                    <button type="button" class="btn btn-secondary" [disabled]="idAnexo === 0" (click)="descargarPdf()">
                        <i class="far fa-eye"></i>
                        Visualizar
                    </button>
                </div>
            </div>
            <div class="flex-1 text-end">
                <button class="btn btn-success" (click)="guardarAnexo()" [disabled]="anexoFG.invalid">
                    <i class="far fa-save"></i>
                    {{
                    (idAnexo === 0 ? 'Grabar' : 'Modificar')
                    }}
                </button>
            </div>
        </div>
    </div>
</div>