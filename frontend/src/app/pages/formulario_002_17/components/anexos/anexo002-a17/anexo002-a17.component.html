<div class="modal-header anexo bg-danger text-white">
    <h4 class="modal-title">{{ this.codigoProcedimientoTupa}} {{ this.descProcedimientoTupa}}</h4>
    <button type="button" class="btn-close btn-close-white" aria-label="Close" (click)="activeModal.close(graboUsuario)">
      
  </button>
</div>

<div class="modal-body anexo">
    <form novalidate [formGroup]="formAnexo">
        <div class="center">
            <h6> ANEXO 002-A/17 SERVICIO DE TRANSPORTE REGULAR DE PERSONAS</h6>
            <small>(AUTORIZACIÓN, RENOVACIÓN, MODIFICACIÓN, INCREMENTO O SUSTITUCIÓN)</small>
        </div>
        <div class="alert alert-warning alert-danger" *ngIf="viewBar">
            <!-- <button type="button" class="btn-close btn-close-white" data-dismiss="alert">&times;</button> -->
            <strong>¡Los sentimos!</strong> {{mensajeAutorizacion}}
          </div>
        <div ngbAccordion #acc="ngbAccordion"  *ngIf="!viewBar"><!--activeIds="ngb-anexo002-a17"-->

            <div ngbAccordionItem="anexo002-a17-seccion-1" [disabled]="!habilitarSeccion1" [collapsed]="!habilitarSeccion1" >
                <h2 ngbAccordionHeader >
                    
                        <button ngbAccordionButton>I. Itinerario y/o Escalas Comerciales, Frecuencias u Horarios</button>
                    </h2>
                <div ngbAccordionCollapse>
<div ngbAccordionBody>
<ng-template>
                    <!--si es DSSTT-032-->
                    <div class="mb-3 row" *ngIf="tupa2">
                        <label class="col-sm-2 col-form-label campo-obligatorio">Fecha de inicio:</label>
                        <div class="col-md-4">
                            <div class="input-group">
                                <input class="form-control" (dateSelect)="onDateSelectIni($event)" readonly ngbDatepicker [minDate]="minDate" #fechaIni="ngbDatepicker" formControlName="fechaIni">
                                    <button class="btn btn-outline-secondary calendar" (click)="fechaIni.toggle()" type="button">
                                    <i class="far fa-calendar-alt"></i>
                                </button>
                            </div>
                         </div>

                        <label class="col-sm-2 col-form-label campo-obligatorio">Fecha fin:</label>
                         <div class="col-md-4">
                            <div class="input-group">
                                <input class="form-control" (dateSelect)="onDateSelectFin($event)" readonly ngbDatepicker #fechaFin="ngbDatepicker" [minDate]="minDatetofin" formControlName="fechaFin">
                                    <button class="btn btn-outline-secondary calendar" (click)="fechaFin.toggle()" type="button">
                                    <i class="far fa-calendar-alt"></i>
                                </button>
                            </div>
                         </div>
                    </div>
                    <!--fin DSTT-032-->

                    <!--INICIO DSTT-031-->
                    <div class="mb-3 row">
                        <label class="col-sm-2 col-form-label">Ingresar Nro Ruta:</label>
                        <div class="col-md-4">
                            <div class="input-group">
                                <input type="text" class="form-control text-uppercase"  maxlength="4" formControlName="nroRuta" /><!-- [disabled]="this.formulario.controls['nroRuta'].value.trim().length === 0"-->
                                    <button class="btn btn-outline-secondary"  type="button" (click)="buscarRuta()">
                                        <i class="fas fa-search"></i>
                                    </button>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="input-group">
                                <label class="col-sm-3 col-form-label">Desde:</label>
                                <input type="text" class="form-control text-uppercase"  maxlength="10" disabled formControlName="vigencia_fechaini" /><!-- [disabled]="this.formulario.controls['nroRuta'].value.trim().length === 0"-->
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="input-group">
                                <label class="col-sm-3 col-form-label">Hasta:</label>
                                <input type="text" class="form-control text-uppercase"  maxlength="10" disabled formControlName="vigencia_fechafin" /><!-- [disabled]="this.formulario.controls['nroRuta'].value.trim().length === 0"-->
                            </div>
                        </div>
                    </div>
                    <!--FIN DSTT-031-->
                    <div class="mb-3 row">
                        <label class="col-sm-2 col-form-label campo-obligatorio">Origen de Ruta:</label>
                        <div class="col-md-4">
                            <input type="text" class="form-control" formControlName="origenRuta" placeholder="Ingrese Origen de Ruta" [class.control-invalid]="formInvalid('origenRuta')" >
                        </div>
                        <label class="col-sm-2 col-form-label campo-obligatorio">Destino de Ruta:</label>
                        <div class="col-md-4">
                            <input type="text" class="form-control" formControlName="destinoRuta" placeholder="Ingrese Destino de Ruta" [class.control-invalid]="formInvalid('destinoRuta')">
                        </div>
                    </div>

                    <div class="mb-3 row">
                        <label class="col-sm-2 col-form-label campo-obligatorio">Itinerario:</label>
                        <div class="col-md-10">
                            <input type="text" class="form-control" formControlName="itinerario" placeholder="Ingrese itinerario" [class.control-invalid]="formInvalid('itinerario')">
                        </div>
                    </div>

                    <div class="mb-3 row" *ngIf="tupa1">
                        <label class="col-sm-2 col-form-label campo-obligatorio">Escalas comerciales</label>
                        <div class="col-md-10">
                            <input type="text" class="form-control" formControlName="escalasComerciales" placeholder="Ingrese escalas comerciales" [class.control-invalid]="formInvalid('escalasComerciales')">
                        </div>
                    </div>

                    <div class="mb-3 row" *ngIf="tupa1">
                        <label class="col-sm-2 col-form-label campo-obligatorio">Frecuencia:</label>
                        <div class="col-md-2">
                            <input type="text" class="form-control text-center" formControlName="frecuencias" [class.control-invalid]="formInvalid('frecuencias')">
                            <!--<select class="form-select form-select-sm" formControlName="frecuencias" [class.control-invalid]="formInvalid('frecuencias')">
                            <option value="">Seleccione</option>
                            <option value="1">Diario</option>
                            <option value="2">Semanal</option></select>-->
                        </div>
                        <label class="col-md-2 col-form-label campo-obligatorio">Días y Horarios de Salida:</label>
                        <div class="col-md-3">
                            <input type="text" class="form-control text-center" formControlName="diasSalida" [class.control-invalid]="formInvalid('diasSalida')">

                        </div>
                        <div class="col-md-3">
                            <!-- <ngb-timepicker formControlName="horasMinutos"></ngb-timepicker> -->
                            <input type="text" class="form-control text-center" formControlName="horasSalida" [class.control-invalid]="formInvalid('horasSalida')">

                        </div>

                    </div>
                    <div class="mb-3 row" *ngIf="tupa1">
                        <label class="col-lg-2 col-form-label campo-obligatorio">Modalidad de Servicio (estandar o diferenciada):</label>
                        <div class="col-md-4 mb-2">
                            <select class="form-select form-select-sm" formControlName="modalidadServicio" [class.control-invalid]="formInvalid('modalidadServicio')">
                            <option value="">Seleccione</option>
                            <option *ngFor="let item of listaModalServicio" [value]="item.id">{{ item.descripcion }}</option>
                        </select>

                        </div>
                    </div>
                    <div class="mb-3 row">
                        <label class="col-sm-2 col-form-label campo-obligatorio">Flota operativa:</label>
                        <div class="col-md-10">
                            <input type="text" class="form-control" formControlName="flotaOperativa" placeholder="Ingrese flota operativa" [class.control-invalid]="formInvalid('flotaOperativa')">
                        </div>
                    </div>

                    <div class="mb-3 row">
                        <label class="col-sm-2 col-form-label campo-obligatorio">Flota de reserva:</label>
                        <div class="col-md-10">
                            <input type="text" class="form-control" formControlName="flotaReserva" placeholder="Ingrese flota de reserva" [class.control-invalid]="formInvalid('flotaReserva')">
                        </div>
                    </div>

                    <div class="mb-3 row" *ngIf="tupa1">
                        <label class="col-sm-2 col-form-label campo-obligatorio">Distancia:</label>
                        <div class="col-md-4">
                            <input type="text" class="form-control" formControlName="distancia" placeholder="Ingrese distancia" [class.control-invalid]="formInvalid('distancia')">
                        </div>
                        <label class="col-md-2 col-form-label campo-obligatorio">Tiempo promedio de viaje (Aplicable al transporte regular):</label>
                        <div class="col-md-4">
                            <input type="text" class="form-control" formControlName="tiempoAproxViaje" placeholder="Ingrese tiempo de viaje" [class.control-invalid]="formInvalid('tiempoAproxViaje')">
                        </div>
                    </div>

                    <div class="mb-3 row" *ngIf="tupa1">
                        <div class="col-md-6">
                            <!-- [class.is-invalid]="distanciaNoValido" -->
                            <input type="text" class="form-control" formControlName="servicioHabilitar" placeholder="Precisar el servicio donde habilitar (Aplicable solo al procedimiento de hablitación)">
                            <!-- <label class="border border-dark rounded">Precisar el servicio donde habilitar (Aplicable solo al procedimiento de hablitación)</label> -->
                        </div>
                        <div class="col-md-6">
                            <input type="text" class="form-control" formControlName="plazoOperacion" placeholder="Plazo de operación (Aplicable solo al Permiso eventual - Máximo 10 días calendario)" (input)="soloNumeros($event)" [class.control-invalid]="formInvalid('plazoOperacion')">
                            <!-- <label class="border border-dark rounded">Plazo de operación (Aplicable solo al Permiso eventual - Máximo 10 días calendario)</label> -->
                        </div>
                    </div>

                    <div class="mb-3 row" *ngIf="tupa1">
                        <label class="col-sm-2 col-form-label">Croquis de la ruta:</label>
                        <div class="col-md-2">
                            <input type="file" class="d-none" #inputFileCroquis (change)="onChangeInputCroquis($event)" accept="application/pdf">
                            <button class="btn btn-danger" type="button" (click)="inputFileCroquis.click()">
                            <i class="fas fa-upload"></i> Adjuntar Croquis 
                        </button>
                        </div>
                        <div class="col-md-2">
                            <i class="far fa-file-pdf text-danger fa-2x ms-3" *ngIf="filePdfCroquisSeleccionado !== null || filePdfCroquisPathName !== null" (click)="vistaPreviaPdfCroquis()" title="Vista previa"></i>
                        </div>
                    </div>
                </ng-template>
</div>
</div>
            </div>

            <div ngbAccordionItem="anexo002-a17-seccion-2" [disabled]="!habilitarSeccion2" [collapsed]="!habilitarSeccion2">
                <h2 ngbAccordionHeader>
                    
                        <button ngbAccordionButton>II. Sección II del RENAT (Aplicable solo si marcó la opción 6 en el ítem 1. En los demás casos es opcional): Servicio regular y eventual</button>
                    </h2>
                <div ngbAccordionCollapse>
<div ngbAccordionBody>
<ng-template>
                    <div class="mb-3 row">
                        <label class="col-sm-12 col-form-label">Si los vehículos ofertados son mayores a 20 unidades, adjuntar la relación de los mismos con los datos solicitados. Relación de vehículos ofertados, marcar con un aspa (X) los que corresponden a Contrato de Arrendamiento Financiero (C.A.F.) y/o Contrato de Arrendamiento Operativo (C.A.O.)</label>
                    </div>

                    <!-- <div class="mb-3 row">
                        <label class="col-sm-1 col-form-label">C.A.F:</label>
                        <div class="col-md-2">
                            <ui-switch (change)="onChangeCaf($event)" formControlName="caf"></ui-switch>
                        </div>
                        <label class="col-sm-1 col-form-label">C.A.O:</label>
                        <div class="col-md-2">
                            <ui-switch (change)="onChangeCao($event)" formControlName="cao"></ui-switch>
                        </div>

                        <div class="col-md-2">
                            <input type="file" class="d-none" #inputFileContrato accept="application/pdf" (change)="onChangeInputContrato($event)" />
                            <button class="btn btn-danger" type="button" *ngIf="visibleButtonContrato" (click)="inputFileContrato.click($event)">
                            <i class="fas fa-upload"></i> Adjuntar
                        </button>
                        </div>
                        <div class="col-md-2">
                            <i class="far fa-file-pdf text-danger fa-2x ms-3" title="Vista previa" *ngIf="filePdfContratoSeleccionado !== null" (click)="vistaPreviaContrato()"></i>
                        </div>
                    </div> -->

                    <div class="mb-3 row">
                        <!-- <div class="flex-1">C.A.F</div> -->
                        <label class="col-form-label campo-obligatorio">C.A.F</label>
                        <div class="col-md-4">
                            <ui-switch (change)="onChangeCaf($event)" formControlName="caf"></ui-switch>
                            <button class="btn btn-danger btn-sm ms-3 mb-4 align-self-center" *ngIf="visibleButtonCaf" (click)="inputFileCaf.click($event)">
                                <i class="fas fa-upload"></i>
                                Adjuntar
                            </button>
                            <input type="file" class="d-none" #inputFileCaf accept="application/pdf" (change)="onChangeInputCaf($event)" />
                            <i class="far fa-file-pdf text-danger fa-2x ms-3" title="Vista previa" *ngIf="filePdfCafSeleccionado !== null" (click)="vistaPreviaCaf()"></i>

                        </div>
                        <label class="col-form-label campo-obligatorio">C.A.O</label>
                        <div class="col-md-4">
                            <ui-switch (change)="onChangeCao($event)" formControlName="cao"></ui-switch>
                            <button class="btn btn-danger btn-sm ms-3 mb-4 align-self-center" *ngIf="visibleButtonCao" (click)="inputFileCao.click($event)">
                                <i class="fas fa-upload"></i>
                                Adjuntar
                            </button>
                            <input type="file" class="d-none" #inputFileCao accept="application/pdf" (change)="onChangeInputCao($event)" />
                            <i class="far fa-file-pdf text-danger fa-2x ms-3" title="Vista previa" *ngIf="filePdfCaoSeleccionado !== null" (click)="vistaPreviaCao()"></i>
                        </div>
                    </div>
                    <div class="d-flex mt-3 align-items-center flex-1">

                    </div>

                    <div class="mb-3 row">
                        <!-- <div class="col-md-12"> -->
                        <label class="col-form-label campo-obligatorio">Placa de rodaje:</label>
                        <div class="col-md-2">
                            <div class="input-group">
                                <!-- [class.is-invalid]="placaRodajeNoValido" -->
                                <input type="text" class="form-control" formControlName="placaRodaje" (input)="changePlacaRodaje()" placeholder="Placa" [class.control-invalid]="formInvalid('placaRodaje')">
                                    <div class="input-group-text"><button type="button" (click)="buscarPlacaRodaje()" class="btn text-primary shadow-none btn-sm m-0 p-0 border-0"><i class="fas fa-search"></i></button></div>
                            </div>
                        </div>
                        <label class="col-form-label campo-obligatorio">SOAT:</label>
                        <div class="col-md-3">
                            <input type="text" formControlName="soat" class="form-control" disabled="true">
                        </div>
                        <label class="col-form-label campo-obligatorio">CITV:</label>
                        <div class="col-md-3">
                            <input type="text" formControlName="citv" class="form-control" disabled ="true">
                        </div>

                        <!-- <label class="col-md-1 col-form-label campo-obligatorio">CITV:</label>
                        <div class="col-md-2">
                            <input type="text" formControlName="citv" class="form-control">
                        </div>
                        <label class="col-md-1 col-form-label campo-obligatorio">CELULAR:</label>
                        <div class="col-md-2">
                            <input type="text" formControlName="celular" class="form-control">
                        </div> -->
                        <!-- </div> -->
                    </div>
                    <div class="mb-3 row">
                        <label class="col-form-label campo-obligatorio">CELULAR:</label>
                        <div class="col-md-3">
                            <input type="text" (input)="soloNumeros($event)" maxlength="9" formControlName="celular" class="form-control">
                        </div>
                        <div>
                            <ui-switch (change)="onChangeCelular($event)" formControlName="adCelular"></ui-switch>
                            <button class="btn btn-danger btn-sm ms-3 mb-4 align-self-center" *ngIf="visibleButtonCelular" (click)="inputFileCelular.click($event)">
                                <i class="fas fa-upload"></i>
                                Adjuntar
                            </button>
                            <input type="file" class="d-none" #inputFileCelular accept="application/pdf" (change)="onChangeInputCelular($event)" />
                            <i class="far fa-file-pdf text-danger fa-2x ms-3" title="Vista previa" *ngIf="filePdfCelularSelecciona !== null" (click)="vistaPreviaCelular()"></i>
                        </div>
                        <!-- </div> -->
                    </div>

                    <div class="mb-3 row text-end">
                        <div class="col-md-12">
                            <button type="button" class="btn btn-primary" (click)="addVehiculo()"><i class="fas fa-plus"></i> Agregar</button>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <div class="table-responsive">
                                <table class="table table-striped table-bordered table-hover">
                                    <thead>
                                        <tr class="bg-secondary text-white text-center">
                                            <th scope="col">N°</th>
                                            <th scope="col">Placa de rodaje</th>
                                            <th scope="col">SOAT</th>
                                            <th scope="col">CITV</th>
                                            <th scope="col">C.A.F.</th>
                                            <th scope="col">C.A.O.</th>
                                            <th scope="col">N° CELULAR</th>
                                            <th scope="col">ADJUNTO CELULAR</th>
                                            <th scope="col">Acciones</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let vehiculo of vehiculos; let i = index">
                                            <td>{{ i + 1 }}</td>
                                            <td>{{ vehiculo.placaRodaje }}</td>
                                            <td>{{ vehiculo.soat }}</td>
                                            <td>{{ vehiculo.citv }}</td>
                                            <!-- <td>{{ vehiculo.caf ? 'SI': 'NO' }}</td> -->
                                            <td *ngIf="vehiculo.fileCaf === null && vehiculo.pathNameCaf === null; else pdfcaf" ></td>
                                            <ng-template #pdfcaf>
                                                <td class="text-center">
                                                    <i class="far fa-file-pdf" (click)="verPdfCafGrilla(vehiculo)"></i>
                                                </td>
                                            </ng-template>
                                            <td *ngIf="vehiculo.fileCao === null && vehiculo.pathNameCao === null; else pdfcao"></td>
                                            <ng-template #pdfcao>
                                                <td class="text-center">
                                                    <i class="far fa-file-pdf" (click)="verPdfCaoGrilla(vehiculo)"></i>
                                                </td>
                                            </ng-template>
                                            <!-- <td>{{ vehiculo.cao ? 'SI': 'NO' }}</td> -->
                                            <td>{{ vehiculo.celular }}</td>
                                            <td *ngIf="vehiculo.fileCelular === null && vehiculo.pathNameCelular=== null; else pdfcelular"></td>
                                            <ng-template #pdfcelular>
                                                <td class="text-center">
                                                    <i class="far fa-file-pdf" (click)="verPdfCelularGrilla(vehiculo)"></i>
                                                </td>
                                            </ng-template>
                                            <td>
                                                <button type="button" class="btn text-primary shadow-none pe-2" (click)="editVehiculo(vehiculo, i)" title="Editar"><i class="far fa-edit"></i></button>
                                                <button type="button" class="btn text-danger shadow-none ps-2" (click)="deleteVehiculo(vehiculo, i)" title="Eliminar"><i class="far fa-trash-alt"></i></button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <div class="mb-3 row">
                        <label class="col-sm-12 col-form-label text-center">Cuento con instalación administrativa propia <span
                            class="text-danger" *ngIf="activarInstalacionAdministrativa"> (*) </span> <input type="radio" (change)="onChangeRadioInstalacion()" [value]="1" formControlName="instalacion" [class.control-invalid]="formInvalid('instalacion')"/> o alquilada <span
                            class="text-danger" *ngIf="activarInstalacionAdministrativa"> (*) </span> <input type="radio" (change)="onChangeRadioInstalacion()" [value]="2" formControlName="instalacion" [class.control-invalid]="formInvalid('instalacion')"/> para el funcionamiento de mi empresa y que constituye mi domicilio, está ubicada en DOMICILIO (AVENIDA / CALLE / JIRÓN / PASAJE / N° / DEPARTAMENTO / MANZANA / LOTE / URBANIZACIÓN)</label>
                    </div>
                    <div class="mb-3 row">
                        <button class="btn btn-danger btn-sm ms-3 align-self-center" *ngIf="visibleButtonInstalacion" (click)="inputFileInstalacion.click($event)">
                            <i class="fas fa-upload"></i>
                            Adjuntar
                        </button>
                        <input type="file" class="d-none" #inputFileInstalacion accept="application/pdf" (change)="onChangeInputInstalacion($event)" />
                        <i class="far fa-file-pdf text-danger fa-2x ms-3" title="Vista previa" *ngIf="filePdfInstalacionSeleccionado !== null || this.pathPdfInstalacionSeleccionado !==null " (click)="vistaPreviaInstalacion()"></i>
                    </div>

                    <div class="mb-3 row">
                        <div class="col-md-12">
                            <input type="text" formControlName="domicilio" class="form-control" [class.control-invalid]="formInvalid('domicilio')">
                        </div>
                    </div>

                    <div class="mb-3 row" >
                        <!-- <label class="col-sm-2 col-form-label campo-obligatorio">Departamento:</label>
                        <div class="col-md-2">
                            <input type="text" formControlName="departamento" class="form-control" [class.control-invalid]="formInvalid('departamento')">
                        </div> -->
                        <label  [ngClass]="{'col-sm-2':true,'col-form-label':true,'campo-obligatorio':!opcionalInstalacionAdministrativa}">Departamento:</label>
                        <div class="col-md-2">
                            <select id="departamento" class="form-select form-select-sm" (change)="onChangeProvincias()" formControlName="departamento" [class.control-invalid]="formInvalid('departamento')" >
                                <option value=''>Seleccione</option>
                                <option *ngFor="let item of listaDepartamentos" [value]="item.value">{{ item.text }}</option>
                            </select>
                        </div>
                        <label [ngClass]="{'col-sm-2':true,'col-form-label':true,'campo-obligatorio':!opcionalInstalacionAdministrativa}">Provincia:</label>
                        <div class="col-md-2">
                            <select class="form-select form-select-sm" (change)="onChangeDistritos()" formControlName="provincia" [class.control-invalid]="formInvalid('provincia')" >
                                <option value=''>Seleccione</option>
                                <option *ngFor="let item of listaProvincias" [value]="item.value">{{ item.text }}</option>
                            </select>
                        </div>
                        <label [ngClass]="{'col-sm-2':true,'col-form-label':true,'campo-obligatorio':!opcionalInstalacionAdministrativa}">Distrito:</label>
                        <div class="col-md-2">
                            <select class="form-select form-select-sm" formControlName="distrito" [class.control-invalid]="formInvalid('distrito')" >
                                <option value=''>Seleccione</option>
                                <option *ngFor="let item of listaDistritos" [value]="item.value">{{ item.text }}</option>
                            </select>
                        </div>
                        <!-- <label class="col-sm-2 col-form-label campo-obligatorio">Provincia:</label>
                        <div class="col-md-2">
                            <input type="text" formControlName="provincia" class="form-control" [class.control-invalid]="formInvalid('provincia')">

                        </div>
                        <label class="col-sm-2 col-form-label campo-obligatorio">Distrito:</label>
                        <div class="col-md-2">
                            <input type="text" formControlName="distrito" class="form-control" [class.control-invalid]="formInvalid('distrito')">
                        </div> -->
                    </div>
                </ng-template>
            </div>
            </div>
            </div>

            <div ngbAccordionItem="anexo002-a17-seccion-3" [disabled]="!habilitarSeccion3" [collapsed]="!habilitarSeccion3">
                <h2 ngbAccordionHeader>
                    
                        <button ngbAccordionButton>III. Relación de Conductores {{txt_opcional}}</button>
                    </h2>
                <div ngbAccordionCollapse>
<div ngbAccordionBody>
<ng-template>
                    <div class="mb-3 row">
                        <label class="col-sm-2 col-form-label campo-obligatorio">DNI:</label>
                        <div class="col-md-2">
                            <div class="input-group">
                                <input type="text" class="form-control" formControlName="numeroDni" placeholder="DNI" [class.control-invalid]="formInvalid('numeroDni')">
                                    <div class="input-group-text"><button type="button" class="btn text-primary shadow-none btn-sm m-0 p-0 border-0" (click)="buscarNumeroDocumento()"><i class="fas fa-search"></i></button></div>
                            </div>
                        </div>

                        <label class="col-sm-2 col-form-label campo-obligatorio">Apellidos y Nombres</label>
                        <div class="col-md-2">
                            <input type="text" class="form-control" formControlName="nombresApellidos" [class.control-invalid]="formInvalid('nombresApellidos')" disabled="true" >

                        </div>
                        <label class="col-sm-2 col-form-label campo-obligatorio">Edad:</label>
                        <div class="col-md-2">
                            <input type="text" class="form-control text-center" formControlName="edad" [class.control-invalid]="formInvalid('edad')">

                        </div>
                    </div>

                    <div class="mb-3 row">
                        <label class="col-sm-2 col-form-label campo-obligatorio">Nº Licencia:</label>
                        <div class="col-md-2">
                            <input type="text" class="form-control" formControlName="numeroLicencia" [class.control-invalid]="formInvalid('numeroLicencia')"  >

                        </div>
                        <label class="col-sm-2 col-form-label campo-obligatorio">Categoría:</label>
                        <div class="col-md-2">
                            <div class="input-group" *ngIf="tupa1">
                                <select class="form-select" formControlName="categoria" [class.control-invalid]="formInvalid('categoria')" >
                                <option value="">Seleccione</option>
                                <option value="M1" *ngIf="opcionalCategoriaM1">M1</option>
                                <option value="M2">M2</option>
                                <option value="M3">M3</option>
                                <option value="N1">N1</option>
                                <option value="N2">N2</option>
                                <option value="N3">N3</option>
                            </select>
                                    <div class="input-group-text"><button type="button" class="btn text-primary shadow-none btn-sm m-0 p-0 border-0"><i class="fas fa-question-circle"></i></button></div>

                            </div>
                            <div class="input-group" *ngIf="tupa2">
                                <input type="text" class="form-control " formControlName="categoriafija" [class.control-invalid]="formInvalid('categoriafija')" disabled="true">
                            </div>
                        </div>
                        <label class="col-sm-2 col-form-label campo-obligatorio" *ngIf="tupa1">Subcategoría:</label>
                        <div class="col-md-2" *ngIf="tupa1">
                            <div class="input-group">
                                <select class="form-select" formControlName="subcategoria" [class.control-invalid]="formInvalid('subcategoria')">
                                <option value="">Seleccione</option>
                                <option value="C1">Clase I</option>
                                <option value="C2">Clase II</option>
                                <option value="C3">Clase III</option>
                            </select>
                                    <div class="input-group-text"><button type="button" class="btn text-primary shadow-none btn-sm m-0 p-0 border-0"><i class="fas fa-question-circle"></i></button></div>
                            </div>
                        </div>
                        <div class="col-md-12 text-end">
                            <button type="button" class="btn btn-primary mt-4" (click)="addConductor()"><i class="fas fa-plus"></i> Agregar</button>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <div class="table-responsive">
                                <table class="table table-striped table-bordered table-hover">
                                    <thead>
                                        <tr class="bg-secondary text-white text-center">
                                            <th scope="col">N°</th>
                                            <th scope="col">Apellidos y Nombres</th>
                                            <th scope="col">Número de DNI</th>
                                            <th scope="col">Edad</th>
                                            <th scope="col">Nº de Licencia</th>
                                            <th scope="col">Categoría</th>
                                            <th scope="col">Subcategoría</th>
                                            <th scope="col">Acciones</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let conductor of conductores; let i = index">
                                            <td>{{ i + 1 }}</td>
                                            <td>{{ conductor.nombresApellidos }}</td>
                                            <td>{{ conductor.numeroDni }}</td>
                                            <td>{{ conductor.edad }}</td>
                                            <td>{{ conductor.numeroLicencia }}</td>
                                            <td>{{ conductor.categoria }}</td>
                                            <td>{{ conductor.subcategoria }}</td>
                                            <td>
                                                <button type="button" class="btn text-primary shadow-none pe-2" (click)="editConductor(conductor, i)" title="Editar"><i class="far fa-edit"></i></button>
                                                <button type="button" class="btn text-danger shadow-none ps-2" (click)="deleteConductor(conductor, i)" title="Eliminar"><i class="far fa-trash-alt"></i></button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </ng-template>
</div>
</div>
            </div>

        </div>

    </form>
</div>

<div class="modal-footer anexo">

    <div class="row mt-3">
        <div class="col-sm-12 d-flex">

            <div class="flex-1">
                <div class="btn-group" role="group" aria-label="Basic example">
                    <button type="button" class="btn btn-secondary" [disabled]="idAnexo === 0" (click)="descargarPdf()">
                  <i class="far fa-eye"></i>
                  Visualizar
              </button>
                </div>
            </div>

            <div class="flex-1 text-end">
                <button class="btn btn-success w-50" (click)="save()" ><!--[disabled]="this.formAnexo.invalid"-->
                    <i class="far fa-save"></i>
                    {{
                        (idAnexo === 0 ? 'Grabar' : 'Modificar')
                    }}
                </button>
            </div>
        </div>
    </div>

</div>

